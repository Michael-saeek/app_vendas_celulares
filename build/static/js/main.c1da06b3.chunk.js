(this.webpackJsonpapp_venda_celulares=this.webpackJsonpapp_venda_celulares||[]).push([[0],{27:function(e,t,a){},30:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(23),l=a.n(s),i=a(16),o=(a(30),a(5)),r=a(9),d=a.n(r),u=a(4),j=a(17),b=a(14),p=a(32),O=(a(51),p.a.initializeApp({apiKey:"AIzaSyCjVAwQe2nzt5E9W1C6SiAPfuUxEL7tBao",authDomain:"app-celulares-crud.firebaseapp.com",projectId:"app-celulares-crud",storageBucket:"app-celulares-crud.appspot.com",messagingSenderId:"997976729963",appId:"1:997976729963:web:3a7d3c5a48879b4d2b442e"}).firestore()),m=a(13),h=a(1),x=function(e){var t=e.id,a=e.model,c=e.price,n=e.brand,s=e.cor,l=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!window.confirm("Tem certeza que voc\xea quer apagar esse registro?")){e.next=7;break}return e.next=4,O.collection("celulares").doc(t).delete();case 4:Object(m.b)("Registro removido",{type:"error"}),e.next=8;break;case 7:Object(m.b)("Registro n\xe3o removido",{type:"info"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{"data-title":"Codigo",children:t.substr(0,8)}),Object(h.jsx)("td",{"data-title":"Modelo",children:a}),Object(h.jsx)("td",{"data-title":"Pre\xe7o",children:c}),Object(h.jsx)("td",{"data-title":"Marca",children:n}),Object(h.jsx)("td",{"data-title":"Cor",children:s}),Object(h.jsxs)("td",{className:"acoes-btn",children:[Object(h.jsx)(i.b,{exact:!0,to:"/modificar/".concat(t),children:Object(h.jsx)("button",{className:"buttom-modificar",children:Object(h.jsx)("i",{className:"fas fa-pencil-alt"})})}),Object(h.jsx)("button",{className:"buttom-delete",onClick:function(){return l(t)},children:Object(h.jsx)("i",{className:"fas fa-trash-alt"})})]})]})},f=(a(45),function(e){var t=e.className,a=e.value,c=e.url,n=e.icon1,s=e.icon2,l=e.type;return Object(h.jsx)("button",{className:t,type:l,children:Object(h.jsxs)(i.b,{exact:!0,to:c,children:[Object(h.jsx)("i",{className:n}),Object(h.jsx)("i",{className:s}),a]})})}),v=(a(46),function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],n=t[1],s=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.collection("celulares").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),n(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(h.jsxs)("div",{className:"container_celulares",children:[Object(h.jsxs)("div",{className:"table-encabecalho",children:[Object(h.jsx)("h2",{children:"Produtos"}),Object(h.jsx)(f,{className:"buttonAdicionar",value:"ADICIONAR",url:"/adicionar",icon1:"fas fa-plus",icon2:"fas fa-mobile-alt"})]}),Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Codigo"}),Object(h.jsx)("td",{children:"Modelo"}),Object(h.jsx)("td",{children:"Pre\xe7o"}),Object(h.jsx)("td",{children:"Marca"}),Object(h.jsx)("td",{children:"Cor"}),Object(h.jsx)("td",{children:"A\xe7\xe3o"})]})}),Object(h.jsx)("tbody",{children:a.map((function(e){return Object(h.jsx)(x,{id:e.id,model:e.model,price:e.price,brand:e.brand,cor:e.cor},e.id)}))})]})]})}),N=a(21),g=(a(27),function(e){var t=e.nome,a=e.type,c=e.title,n=e.estado,s=e.mudarEstado,l=e.placeholder,i=e.value,o=e.regex,r=function(){o?o.test(n.campo)?(s(Object(u.a)(Object(u.a)({},n),{},{isValid:!0})),console.log(n)):(s(Object(u.a)(Object(u.a)({},n),{},{isValid:!1})),console.log(n)):console.log("no tiene regex")};return Object(h.jsxs)("div",{className:"container_input",children:[Object(h.jsx)("label",{name:t,htmlFor:t,className:"title-input",children:c}),Object(h.jsx)("input",{type:a,className:"null"===n.isValid?"input":!0===n.isValid?"input input_valido":"input input_invalido",name:t,placeholder:l,value:i,onChange:function(e){s(Object(u.a)(Object(u.a)({},n),{},{campo:e.target.value})),console.log(e.target.value)},onKeyUp:r,onBlur:r})]})}),D=function(){var e={model:"",price:"",brand:"",startDate:"",endDate:"",cor:"",isValid:null},t=Object(c.useState)(e),a=Object(b.a)(t,2),n=a[0],s=a[1],l=Object(c.useState)({campo:"",isValid:"null"}),o=Object(b.a)(l,2),r=o[0],p=o[1],x=Object(c.useState)({campo:"",isValid:"null"}),f=Object(b.a)(x,2),v=f[0],D=f[1],V=Object(c.useState)({campo:"",isValid:"null"}),y=Object(b.a)(V,2),C=y[0],S=y[1],w=Object(c.useState)({startDate:"",isValid:"null"}),A=Object(b.a)(w,2),I=A[0],P=A[1],_=Object(c.useState)({endDate:"",isValid:"null"}),T=Object(b.a)(_,2),E=T[0],M=T[1],K=Object(c.useState)({campo:"",isValid:"null"}),L=Object(b.a)(K,2),k=L[0],B=L[1],F=function(){"BLACK"===k.campo||"WHITE"===k.campo||"GOLD"===k.campo||"PINK"===k.campo?B(Object(u.a)(Object(u.a)({},k),{},{isValid:!0})):B(Object(u.a)(Object(u.a)({},k),{},{isValid:!1}))},R={model:/[a-zA-Z0-9\S]{2,255}/,price:/([0-9\.])[^\-]/,brand:/[a-zA-Z0-9\S]{2,255}/},z=function(e,t,a){var c=e.target,n=c.name,s=c.value;a(Object(u.a)(Object(u.a)({},t),{},Object(N.a)({},n,s))),console.log(e.target.value)},W=function(){var e=new Date("2018-12-25"),t=new Date(I.startDate),a=new Date(E.endDate);t.getTime()>e.getTime()?(P(Object(u.a)(Object(u.a)({},I),{},{isValid:!0})),a.getTime()>t.getTime()?M(Object(u.a)(Object(u.a)({},E),{},{isValid:!0})):M(Object(u.a)(Object(u.a)({},E),{},{isValid:!1}))):P(Object(u.a)(Object(u.a)({},I),{},{isValid:!1}))},G=function(e){return"null"===e.isValid?"input":!0===e.isValid?"input input_valido":"input input_invalido"},H=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==n.isValid){e.next=5;break}return e.next=3,O.collection("celulares").doc().set(n);case 3:Object(m.b)("Celular cadastrado com successo",{type:"success"}),U();case 5:console.log("Foi executado useEffect");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){H()}),[n]);var U=function(){p({campo:"",isValid:"null"}),S({campo:"",isValid:"null"}),B({campo:"",isValid:"null"}),P({startDate:"",isValid:"null"}),M({endDate:"",isValid:"null"}),D({campo:"",isValid:"null"}),s(Object(u.a)({},e))};return Object(h.jsxs)("form",{action:"POST",className:"container_adicionar",onSubmit:function(e){e.preventDefault(),!0===r.isValid&&!0===v.isValid&&!0===C.isValid&&!0===I.isValid&&!0===E.isValid&&!0===k.isValid?s(Object(u.a)(Object(u.a)({},n),{},{model:r.campo,price:v.campo,brand:C.campo,startDate:I.startDate,endDate:E.endDate,cor:k.campo,isValid:!0})):Object(m.b)("Percebemos algum erro nos dados ingresados, valide novamente",{type:"error"})},children:[Object(h.jsx)("label",{className:"title_detalhesProduto",children:"Detalhes do produto"}),Object(h.jsxs)("section",{className:"list_columns",children:[Object(h.jsxs)("div",{className:"column1",children:[Object(h.jsx)(g,{nome:"model",type:"text",title:"Modelo",estado:r,mudarEstado:p,value:r.campo,placeholder:"XT2041-1",regex:R.model}),Object(h.jsx)("label",{htmlFor:"cor",className:"title-input",children:"Cor"}),Object(h.jsxs)("select",{name:"cor",className:"null"===k.isValid?"options":!0===k.isValid?"options options_valido":"options options_invalido",onChange:function(e){B(Object(u.a)(Object(u.a)({},k),{},{campo:e.target.value})),console.log(e.target.value)},onKeyUp:F,onBlur:F,children:[Object(h.jsx)("option",{value:k.campo,children:"COR"}),Object(h.jsx)("option",{value:"BLACK",children:"BLACK"}),Object(h.jsx)("option",{value:"WHITE",children:"WHITE"}),Object(h.jsx)("option",{value:"GOLD",children:"GOLD"}),Object(h.jsx)("option",{value:"PINK",children:"PINK"})]}),Object(h.jsxs)("div",{className:"container_input",children:[Object(h.jsx)("label",{name:"startDate",htmlFor:"startDate",className:"title-input",children:"Inicio das Vendas"}),Object(h.jsx)("input",{type:"date",className:G(I),name:"startDate",value:I.startDate,onChange:function(e){return z(e,I,P)},onKeyUp:W,onBlur:W})]})]}),Object(h.jsxs)("div",{className:"column2",children:[Object(h.jsx)(g,{nome:"brand",type:"text",title:"Marca",estado:C,mudarEstado:S,value:C.campo,placeholder:"Motorola",regex:R.brand}),Object(h.jsx)(g,{nome:"price",type:"number",title:"Pre\xe7o",estado:v,mudarEstado:D,value:v.campo,placeholder:"1.400,00",regex:R.price}),Object(h.jsxs)("div",{className:"container_input",children:[Object(h.jsx)("label",{name:"endDate",htmlFor:"endDate",className:"title-input",children:"Fin das Vendas"}),Object(h.jsx)("input",{type:"date",className:G(E),name:"endDate",value:E.endDate,onChange:function(e){return z(e,E,M)},onKeyUp:W,onBlur:W})]})]})]}),Object(h.jsxs)("div",{className:"list-buttons",children:[Object(h.jsx)(i.b,{exact:!0,to:"/",className:"buttonProduto",children:"VOLTAR"}),Object(h.jsx)("button",{type:"submit",className:"buttonProduto",children:"SALVAR"})]})]})},V=function(){var e={model:"",price:"",brand:"",startDate:"",endDate:"",cor:""},t=Object(c.useState)(e),a=Object(b.a)(t,2),n=a[0],s=a[1],l=function(e){var t=e.target,a=t.name,c=t.value;console.log(a,c),s(Object(u.a)(Object(u.a)({},n),{},Object(N.a)({},a,c)))},r=function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.collection("celulares").doc(x).update(a);case 2:Object(m.b)("Produto modificado",{type:"success"}),s(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(j.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.collection("celulares").doc().set(a);case 2:console.log("Novo celular adicionado"),s(Object(u.a)({},e)),Object(m.b)("Celular Cadastro com Sucesso",{type:"success"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=Object(o.g)().id;Object(c.useEffect)((function(){v()}),[]);var f=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("celulares").doc(t).get();case 2:a=e.sent,console.log(a.data()),s(a.data());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){""===x?s(e):(Object(m.b)("Modo edi\xe7\xe3o",{type:"info"}),f(x))};return Object(h.jsxs)("form",{action:"POST",className:"container_adicionar",onSubmit:function(e){e.preventDefault(),console.log(n),""===x?p(n):r(n)},children:[Object(h.jsx)("label",{className:"title_detalhesProduto",children:"Detalhes do produto"}),Object(h.jsxs)("section",{className:"list_columns",children:[Object(h.jsxs)("div",{className:"column1",children:[Object(h.jsx)("label",{name:"model",className:"title-input",children:"Modelo"}),Object(h.jsx)("input",{type:"text",name:"model",className:"input",placeholder:"XT2041-1",onChange:l,value:n.model}),Object(h.jsx)("label",{className:"title-input",children:"Cor"}),Object(h.jsxs)("select",{name:"cor",className:"options",onChange:l,children:[Object(h.jsx)("option",{value:n.cor,children:n.cor}),Object(h.jsx)("option",{value:"BLACK",children:"BLACK"}),Object(h.jsx)("option",{value:"WHITE",children:"WHITE"}),Object(h.jsx)("option",{value:"GOLD",children:"GOLD"}),Object(h.jsx)("option",{value:"PINK",children:"PINK"})]}),Object(h.jsx)("label",{className:"title-input",children:"Inicio das vendas"}),Object(h.jsx)("input",{type:"date",name:"startDate",className:"input",placeholder:"15/03/2020",onChange:l,value:n.startDate})]}),Object(h.jsxs)("div",{className:"column2",children:[Object(h.jsx)("label",{className:"title-input",children:"Marca"}),Object(h.jsx)("input",{type:"text",name:"brand",className:"input",placeholder:"Motorola",onChange:l,value:n.brand}),Object(h.jsx)("label",{className:"title-input",children:"Pre\xe7o"}),Object(h.jsx)("input",{type:"number",name:"price",className:"input",placeholder:"1.400,00",onChange:l,value:n.price}),Object(h.jsx)("label",{className:"title-input",children:"Fin das vendas"}),Object(h.jsx)("input",{type:"date",name:"endDate",className:"input",placeholder:"14/06/2020",onChange:l,value:n.endDate})]})]}),Object(h.jsxs)("div",{className:"list-buttons",children:[Object(h.jsx)(i.b,{exact:!0,to:"/",className:"buttonProduto",children:"VOLTAR"}),Object(h.jsx)("button",{type:"submit",className:"buttonProduto",children:"MODIFICAR"})]})]})},y=function(){return Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{exact:!0,path:"/",component:v}),Object(h.jsx)(o.b,{path:"/adicionar",component:D}),Object(h.jsx)(o.b,{path:"/modificar/:id",component:V}),Object(h.jsx)(o.b,{path:"/modificar",component:V}),Object(h.jsx)(o.a,{from:"*",to:"/"})]})},C=(a(47),a.p+"static/media/mobile-solid.a6ae57b2.svg"),S=function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("div",{className:"logo",children:[Object(h.jsx)("span",{className:"title-firstpt",children:"Mobile  "}),Object(h.jsx)("img",{src:C,alt:"logo",className:"logo-img"}),Object(h.jsx)("span",{className:"title-secondpt",children:" Center"})]})})},w=(a(48),function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsx)("p",{children:"\xa9 Copyright - 2021 - Melhor Celular - Todos os direitos reservados \xe1 Melhor Celular LTDA."})})}),A=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)("main",{className:"container-grid",children:[Object(h.jsx)(S,{}),Object(h.jsx)(y,{}),Object(h.jsx)(w,{})]})})},I=(a(49),function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{}),Object(h.jsx)(A,{})]})});l.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.c1da06b3.chunk.js.map